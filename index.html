<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Implements OpenStreetMap API v0.6
    (&lt;https://wiki.openstreetmap.org/wiki/API_v0.6&gt;).">
<title>OpenStreetMap API • osmapiR</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="OpenStreetMap API">
<meta property="og:description" content="Implements OpenStreetMap API v0.6
    (&lt;https://wiki.openstreetmap.org/wiki/API_v0.6&gt;).">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">osmapiR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.11</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jmaspons/osmapiR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="osmapir">osmapiR<a class="anchor" aria-label="anchor" href="#osmapir"></a>
</h1></div>
<!-- badges: start -->

<p>Implements <a href="https://wiki.openstreetmap.org/wiki/API_v0.6" class="external-link">OpenStreetMap API</a> for R.</p>
<div class="section level2">
<h2 id="status">Status<a class="anchor" aria-label="anchor" href="#status"></a>
</h2>
<p>All API end points implemented. Requires testing and vignettes explaining the flow for editing.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of osmapiR from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"jmaspons/osmapiR"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<p>This is a basic example which shows how to get map data:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jmaspons.github.io/osmapiR">osmapiR</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Data (c) OpenStreetMap contributors, ODbL 1.0. https://www.openstreetmap.org/copyright</span></span>
<span></span>
<span><span class="co"># For testing edition without breaking the OSM data,</span></span>
<span><span class="co"># make calls to `https://master.apis.dev.openstreetmap.org`</span></span>
<span></span>
<span><span class="co"># set_osmapi_connection(server = "testing") # lacks data</span></span>
<span></span>
<span><span class="va">bbox</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2.4166059</span>, <span class="fl">42.5945594</span>, <span class="fl">2.4176574</span>, <span class="fl">42.5962101</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Download objects by bounding box</span></span>
<span><span class="va">osm_objs</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/osm_bbox_objects.html">osm_bbox_objects</a></span><span class="op">(</span>bbox <span class="op">=</span> <span class="va">bbox</span>, tags_in_columns <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## View history of an object</span></span>
<span><span class="va">sel</span> <span class="op">&lt;-</span> <span class="va">osm_objs</span><span class="op">$</span><span class="va">`name:ca`</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"Abadia de Sant Miquel de Cuixà"</span></span>
<span><span class="va">obj</span> <span class="op">&lt;-</span> <span class="va">osm_objs</span><span class="op">[</span><span class="va">sel</span>, <span class="op">]</span></span>
<span></span>
<span><span class="va">obj_history</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/osm_history_object.html">osm_history_object</a></span><span class="op">(</span>osm_type <span class="op">=</span> <span class="va">obj</span><span class="op">$</span><span class="va">type</span>, osm_id <span class="op">=</span> <span class="va">obj</span><span class="op">$</span><span class="va">id</span><span class="op">)</span> <span class="co"># tags in a list column</span></span>
<span><span class="va">obj_history</span></span>
<span><span class="co">#&gt;   type       id visible version changeset           timestamp     user    uid</span></span>
<span><span class="co">#&gt; 1  way 50343004    TRUE       1   3882565 2010-02-15 12:14:11  Skywave  10927</span></span>
<span><span class="co">#&gt; 2  way 50343004    TRUE       2  13314595 2012-09-30 19:52:28 petrovsk  90394</span></span>
<span><span class="co">#&gt; 3  way 50343004    TRUE       3  53623614 2017-11-08 22:08:33    JFK73 662440</span></span>
<span><span class="co">#&gt; 4  way 50343004    TRUE       4 103004865 2021-04-15 15:41:02 petrovsk  90394</span></span>
<span><span class="co">#&gt;    lat  lon                                                         members</span></span>
<span><span class="co">#&gt; 1 &lt;NA&gt; &lt;NA&gt; 44 nodes: 639618609, 639618608, 639618720, 639618717, 639618...</span></span>
<span><span class="co">#&gt; 2 &lt;NA&gt; &lt;NA&gt; 44 nodes: 639618609, 639618608, 639618720, 639618717, 639618...</span></span>
<span><span class="co">#&gt; 3 &lt;NA&gt; &lt;NA&gt; 44 nodes: 639618609, 639618608, 639618720, 639618717, 639618...</span></span>
<span><span class="co">#&gt; 4 &lt;NA&gt; &lt;NA&gt; 48 nodes: 639618609, 639618608, 8632687795, 8632687796, 8632...</span></span>
<span><span class="co">#&gt;                                                                                  tags</span></span>
<span><span class="co">#&gt; 1 8 tags: amenity=place_of_worship | building=yes | denomination=catholic | histor...</span></span>
<span><span class="co">#&gt; 2 8 tags: amenity=place_of_worship | building=yes | denomination=catholic | histor...</span></span>
<span><span class="co">#&gt; 3 15 tags: amenity=place_of_worship | building=yes | denomination=catholic | herit...</span></span>
<span><span class="co">#&gt; 4 15 tags: amenity=place_of_worship | building=yes | denomination=catholic | herit...</span></span>
<span></span>
<span><span class="co"># obj_history$tags</span></span></code></pre></div>
<p>Get notes:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">notes</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/osm_read_bbox_notes.html">osm_read_bbox_notes</a></span><span class="op">(</span>bbox <span class="op">=</span> <span class="va">bbox</span>, closed <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">notes</span></span>
<span><span class="co">#&gt;         lon        lat      id</span></span>
<span><span class="co">#&gt; 1 2.4170566 42.5948042 1730475</span></span>
<span><span class="co">#&gt; 2 2.4170552 42.5949259  628602</span></span>
<span><span class="co">#&gt;                                                       url comment_url close_url</span></span>
<span><span class="co">#&gt; 1 https://api.openstreetmap.org/api/0.6/notes/1730475.xml        &lt;NA&gt;      &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2  https://api.openstreetmap.org/api/0.6/notes/628602.xml        &lt;NA&gt;      &lt;NA&gt;</span></span>
<span><span class="co">#&gt;          date_created status</span></span>
<span><span class="co">#&gt; 1 2019-03-31 14:10:04 closed</span></span>
<span><span class="co">#&gt; 2 2016-07-15 07:09:19 closed</span></span>
<span><span class="co">#&gt;                                                          comments</span></span>
<span><span class="co">#&gt; 1                     2 comments from 2019-03-31 by Sherpa66, Syl</span></span>
<span><span class="co">#&gt; 2 5 comments from 2016-07-15 to 2018-05-25 by Dolfo54, rainerU...</span></span>
<span></span>
<span><span class="co"># notes$comments</span></span></code></pre></div>
<p>Get GPX data:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Requires authentication</span></span>
<span><span class="va">usr_traces</span> <span class="op">&lt;-</span>  <span class="fu"><a href="reference/osm_list_gpxs.html">osm_list_gpxs</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/osm_get_metadata_gpx.html">osm_get_metadata_gpx</a></span><span class="op">(</span>gpx_id <span class="op">=</span> <span class="fl">3790367</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/osm_get_data_gpx.html">osm_get_data_gpx</a></span><span class="op">(</span>gpx_id <span class="op">=</span> <span class="fl">3790367</span>, format <span class="op">=</span> <span class="st">"R"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gpx</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/osm_get_points_gps.html">osm_get_points_gps</a></span><span class="op">(</span>bbox <span class="op">=</span> <span class="va">bbox</span><span class="op">)</span></span>
<span><span class="va">gpx</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt;          lat       lon</span></span>
<span><span class="co">#&gt; 1 42.5945734 2.4166662</span></span>
<span><span class="co">#&gt; 2 42.5945770 2.4166060</span></span>
<span><span class="co">#&gt; 3 42.5945770 2.4166640</span></span>
<span><span class="co">#&gt; 4 42.5945770 2.4166880</span></span>
<span><span class="co">#&gt; 5 42.5945890 2.4167120</span></span>
<span><span class="co">#&gt; 6 42.5945999 2.4166340</span></span>
<span><span class="co">#&gt; 7 42.5946030 2.4166390</span></span>
<span><span class="co">#&gt; 8 42.5946100 2.4166260</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"class")</span></span>
<span><span class="co">#&gt; [1] "osmapi_gpx" "list"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="related-packages">Related packages<a class="anchor" aria-label="anchor" href="#related-packages"></a>
</h2>
<ul>
<li>
<a href="https://cran.r-project.org/package=osmdata" class="external-link">osmdata</a> implements the Overpass API to query data from OSM.</li>
<li>
<a href="https://cran.r-project.org/package=osmextract" class="external-link">osmexctract</a> matches, downloads, converts and imports bulk OSM data (<code>.pbf</code> files)</li>
<li>
<a href="https://cran.r-project.org/package=OpenStreetMap" class="external-link">OpenStreetMap</a> Accesses high resolution raster maps using the OpenStreetMap protocol.</li>
</ul>
<p><code>osmapiR</code> is the only package to access other OSM data than the maps data (map notes, GPS traces, changelogs and users). It can be also useful to get the history of the OSM objects and is the only package that allows editing and upload any kind of data.</p>
<p>To access the OSM map data for purposes other than editing or exploring the history of the objects, perhaps is better to use the other packages that implements the Overpass API (<code>osmdata</code>) or that works with <code>.pbf</code> files (<code>osmexcract</code>).</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/jmaspons/osmapiR/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/jmaspons/osmapiR/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing osmapiR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Joan Maspons <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-2286-8727" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://github.com/jmaspons/osmapiR/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/jmaspons/osmapiR/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://codecov.io/gh/jmaspons/osmapiR" class="external-link"><img src="https://codecov.io/gh/jmaspons/osmapiR/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://github.com/jmaspons/osmapiR/actions/workflows/pkgdown.yaml" class="external-link"><img src="https://github.com/jmaspons/osmapiR/actions/workflows/pkgdown.yaml/badge.svg" alt="pkgdown"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Joan Maspons.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
