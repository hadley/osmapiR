<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Used by the Data Working Group to hide old versions of
elements containing data privacy or copyright infringements. Only permitted for OSM accounts with the moderator role
(DWG and server admins)."><title>Redact an object version — osm_redaction_object • osmapiR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Redact an object version — osm_redaction_object"><meta property="og:description" content="Used by the Data Working Group to hide old versions of
elements containing data privacy or copyright infringements. Only permitted for OSM accounts with the moderator role
(DWG and server admins)."><meta property="og:image" content="https://jmaspons.github.io/osmapiR/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">osmapiR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.36</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/osmapiR.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/how_to_edit_gps_traces.html">How to edit GPS traces</a>
    <a class="dropdown-item" href="../articles/how_to_edit_osm.html">How to edit OpenStreetMap</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jmaspons/osmapiR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Redact an object version</h1>
      <small class="dont-index">Source: <a href="https://github.com/jmaspons/osmapiR/blob/HEAD/R/osmapi_elements.R" class="external-link"><code>R/osmapi_elements.R</code></a></small>
      <div class="d-none name"><code>osm_redaction_object.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Used by the <a href="https://wiki.openstreetmap.org/wiki/Data_working_group" class="external-link">Data Working Group</a> to hide old versions of
elements containing data privacy or copyright infringements. Only permitted for OSM accounts with the moderator role
(DWG and server admins).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">osm_redaction_object</span><span class="op">(</span></span>
<span>  osm_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"node"</span>, <span class="st">"way"</span>, <span class="st">"relation"</span><span class="op">)</span>,</span>
<span>  <span class="va">osm_id</span>,</span>
<span>  <span class="va">version</span>,</span>
<span>  <span class="va">redaction_id</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>osm_type</dt>
<dd><p>Object type (<code>"node"</code>, <code>"way"</code> or <code>"relation"</code>).</p></dd>


<dt>osm_id</dt>
<dd><p>Object id represented by a numeric or a character value.</p></dd>


<dt>version</dt>
<dd><p>Version of the object to redact.</p></dd>


<dt>redaction_id</dt>
<dd><p>If missing, then this is an unredact operation. If a redaction ID was specified, then set this
element to be redacted in that redaction.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Nothing is returned upon successful redaction or unredaction of an object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code>redaction_id</code> is listed on <a href="https://www.openstreetmap.org/redactions" class="external-link">https://www.openstreetmap.org/redactions</a>. More information can be found in
<a href="https://git.openstreetmap.org/rails.git/blob/HEAD:/app/controllers/api/old_controller.rb" class="external-link">the source</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other functions for moderators: 
<code><a href="osm_delete_note.html">osm_delete_note</a>()</code>,
<code><a href="osm_hide_comment_changeset_discussion.html">osm_hide_comment_changeset_discussion</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">## WARNING: this example will edit the OSM (testing) DB with your user!</span></span></span>
<span class="r-in"><span><span class="co"># You will need a user with moderator role in the server to use `osm_redaction_object()`</span></span></span>
<span class="r-in"><span><span class="fu"><a href="API_configuration.html">set_osmapi_connection</a></span><span class="op">(</span>server <span class="op">=</span> <span class="st">"testing"</span><span class="op">)</span> <span class="co"># setting https://master.apis.dev.openstreetmap.org</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"node"</span>, lat <span class="op">=</span> <span class="fl">0</span>, lon <span class="op">=</span> <span class="fl">0</span>, name <span class="op">=</span> <span class="st">"Test redaction."</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="osmapi_objects.html">osmapi_objects</a></span><span class="op">(</span><span class="va">x</span>, tag_columns <span class="op">=</span> <span class="st">"name"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">changeset_id</span> <span class="op">&lt;-</span> <span class="fu"><a href="osm_create_changeset.html">osm_create_changeset</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  comment <span class="op">=</span> <span class="st">"Test object redaction"</span>,</span></span>
<span class="r-in"><span>  hashtags <span class="op">=</span> <span class="st">"#testing;#osmapiR"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">node_id</span> <span class="op">&lt;-</span> <span class="fu"><a href="osm_create_object.html">osm_create_object</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">obj</span>, changeset_id <span class="op">=</span> <span class="va">changeset_id</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">node_osm</span> <span class="op">&lt;-</span> <span class="fu"><a href="osm_get_objects.html">osm_get_objects</a></span><span class="op">(</span>osm_type <span class="op">=</span> <span class="st">"node"</span>, osm_id <span class="op">=</span> <span class="va">node_id</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">deleted_version</span> <span class="op">&lt;-</span> <span class="fu"><a href="osm_delete_object.html">osm_delete_object</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">node_osm</span>, changeset_id <span class="op">=</span> <span class="va">changeset_id</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">redaction</span> <span class="op">&lt;-</span> <span class="fu">osm_redaction_object</span><span class="op">(</span></span></span>
<span class="r-in"><span>  osm_type <span class="op">=</span> <span class="va">node_osm</span><span class="op">$</span><span class="va">type</span>, osm_id <span class="op">=</span> <span class="va">node_osm</span><span class="op">$</span><span class="va">id</span>, version <span class="op">=</span> <span class="fl">1</span>, redaction_id <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">unredaction</span> <span class="op">&lt;-</span> <span class="fu">osm_redaction_object</span><span class="op">(</span>osm_type <span class="op">=</span> <span class="va">node_osm</span><span class="op">$</span><span class="va">type</span>, osm_id <span class="op">=</span> <span class="va">node_osm</span><span class="op">$</span><span class="va">id</span>, version <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="osm_create_changeset.html">osm_close_changeset</a></span><span class="op">(</span>changeset_id <span class="op">=</span> <span class="va">changeset_id</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Joan Maspons.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

