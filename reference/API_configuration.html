<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Functions to configure the connections. Probably, you should only use set_osmapi_connection."><title>Configure connections from osmapiR — set_osmapi_connection • osmapiR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Configure connections from osmapiR — set_osmapi_connection"><meta property="og:description" content="Functions to configure the connections. Probably, you should only use set_osmapi_connection."><meta property="og:image" content="https://jmaspons.github.io/osmapiR/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">osmapiR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/osmapiR.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/how_to_edit_gps_traces.html">How to edit GPS traces</a>
    <a class="dropdown-item" href="../articles/how_to_edit_osm.html">How to edit OpenStreetMap</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jmaspons/osmapiR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Configure connections from osmapiR</h1>
      <small class="dont-index">Source: <a href="https://github.com/jmaspons/osmapiR/blob/HEAD/R/osmapiR_connection.R" class="external-link"><code>R/osmapiR_connection.R</code></a></small>
      <div class="d-none name"><code>API_configuration.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Functions to configure the connections. Probably, you should only use <code>set_osmapi_connection</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">set_osmapi_connection</span><span class="op">(</span></span>
<span>  server <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"openstreetmap.org"</span>, <span class="st">"testing"</span><span class="op">)</span>,</span>
<span>  <span class="va">cache_authentication</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">get_osmapi_url</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">set_osmapi_url</span><span class="op">(</span><span class="va">osmapi_url</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>server</dt>
<dd><p>If <code>openstreetmap.org</code> (default), the API calls will be performed to the servers in production. If
<code>testing</code>, the calls will be against <a href="https://master.apis.dev.openstreetmap.org" class="external-link">https://master.apis.dev.openstreetmap.org</a> without affecting the main OSM
data.</p></dd>


<dt>cache_authentication</dt>
<dd><p>If <code>TRUE</code>, the authentication token will be cached on disk. This reduces the number of
times that you need to re-authenticate at the cost of storing access credentials on disk. Cached tokens are
encrypted and automatically deleted 30 days after creation. If missing (default), no changes will be applied. On
package load time, the option is set to <code>FALSE</code> if it's not yet set.</p></dd>


<dt>osmapi_url</dt>
<dd><p>The desired API URL to send the calls.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Configure <code>.Options[grep("^osmapir\\.[a-z]+_(?!secret$)", names(.Options), perl = TRUE)]</code> :) and return
<code>osmapir.base_api_url</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>When testing your software against the API you should consider using <a href="https://master.apis.dev.openstreetmap.org" class="external-link">https://master.apis.dev.openstreetmap.org</a>
instead of the live-api (<code>set_osmapi_connection("testing")</code>). Your account for the live service is not in the same
database, so you probably need a new username and password for the test service; please visit that page in a browser
to sign up.</p>
<p><code>set_osmapi_url()</code> and <code>get_osmapi_url</code> only deal with the API base URL. On the other hand, <code>set_osmapi_connection</code>
also configure the authentication parameters needed for <code>PUT</code>, <code>POST</code> and <code>DELETE</code> calls.</p>
<p>For further details, see <a href="https://wiki.openstreetmap.org/wiki/API_v0.6" class="external-link">https://wiki.openstreetmap.org/wiki/API_v0.6</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other API functions: 
<code><a href="authenticate_osmapiR.html">authenticate_osmapi</a>()</code>,
<code><a href="osm_api_versions.html">osm_api_versions</a>()</code>,
<code><a href="osm_capabilities.html">osm_capabilities</a>()</code>,
<code><a href="osm_permissions.html">osm_permissions</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">ori</span> <span class="op">&lt;-</span> <span class="fu">get_osmapi_url</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">set_osmapi_connection</span><span class="op">(</span>server <span class="op">=</span> <span class="st">"testing"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Logged out from https://api.openstreetmap.org</span>
<span class="r-in"><span><span class="fu">get_osmapi_url</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "https://master.apis.dev.openstreetmap.org"</span>
<span class="r-in"><span><span class="fu">set_osmapi_connection</span><span class="op">(</span>server <span class="op">=</span> <span class="st">"openstreetmap.org"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Logged out from https://master.apis.dev.openstreetmap.org</span>
<span class="r-in"><span><span class="fu">get_osmapi_url</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "https://api.openstreetmap.org"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Restore options</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">ori</span> <span class="op">==</span> <span class="st">"https://api.openstreetmap.org"</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu">set_osmapi_connection</span><span class="op">(</span>server <span class="op">=</span> <span class="st">"openstreetmap.org"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">ori</span> <span class="op">==</span> <span class="st">"https://master.apis.dev.openstreetmap.org"</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu">set_osmapi_connection</span><span class="op">(</span>server <span class="op">=</span> <span class="st">"testing"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="kw"><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"A non standard osmapiR connection detected ("</span>, <span class="va">ori</span>,</span></span>
<span class="r-in"><span>    <span class="st">"). If you configured manually options like \"osmapir.base_api_url\" or \"osmapir.oauth_id\", "</span>,</span></span>
<span class="r-in"><span>    <span class="st">"configure it again."</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Joan Maspons.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

